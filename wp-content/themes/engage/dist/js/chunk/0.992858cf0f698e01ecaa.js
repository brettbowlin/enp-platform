webpackJsonp([0],{7:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var l=e[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,i,l){return i&&t(e.prototype,i),l&&t(e,l),e}}();var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.field=document.getElementById("field"),this.ballsEl=document.getElementById("balls"),this.gravitationalPull=50,this.gravityText=document.getElementById("current-gravity"),this.increasePullBtn=document.getElementById("increase-pull"),this.decreasePullBtn=document.getElementById("decrease-pull"),this.balls=null,this.ballSettings={num:80,minSize:4,maxSize:18},this.start=0,this.init(80)}return l(t,[{key:"init",value:function(t){this.balls=this.createBalls(t),window.requestAnimationFrame(this.step.bind(this)),this.setPullButtons(this.gravitationalPull),this.increasePullBtn.addEventListener("click",this.increaseGravitationalPull.bind(this)),this.decreasePullBtn.addEventListener("click",this.decreaseGravitationalPull.bind(this))}},{key:"createBalls",value:function(){for(var t=void 0,e=0;e<this.ballSettings.num;e++)t=Math.ceil(this.ballSettings.minSize+Math.random()*(this.ballSettings.maxSize-this.ballSettings.minSize)),this.createBall(t);return document.querySelectorAll(".ball")}},{key:"createBall",value:function(t){var e,i=void 0;i=document.createElement("div"),e=Math.round(1*Math.random())?"x":"y",i.classList.add("ball"),i.style.width=t+"px",i.style.height=t+"px",i.style.background=this.getRandomColor(),i.setAttribute("data-stretch-dir",e),i.setAttribute("data-stretch-val",1+5*Math.random()),i.setAttribute("data-grid",field.offsetWidth+Math.round(100*Math.random())),i.setAttribute("data-duration",3.5+Math.round(8*Math.random())),i.setAttribute("data-start",0),this.ballsEl.appendChild(i)}},{key:"callStep",value:function(t){return this.step(t)}},{key:"step",value:function(t){for(var e=void 0,i=void 0,l=void 0,a=void 0,s=void 0,n=void 0,r=void 0,o=void 0,d=0;d<this.balls.length;d++)0==(n=this.balls[d].getAttribute("data-start"))&&(n=t,this.balls[d].setAttribute("data-start",n)),s=this.balls[d].getAttribute("data-grid"),e=(t-n)/this.balls[d].getAttribute("data-duration")/1e3,a=this.balls[d].getAttribute("data-stretch-val"),"x"===this.balls[d].getAttribute("data-stretch-dir")?(i=a*Math.sin(2*e*Math.PI)*(1.05-this.gravitationalPull/100),l=Math.cos(2*e*Math.PI)):(i=Math.sin(2*e*Math.PI),l=a*Math.cos(2*e*Math.PI)*(1.05-this.gravitationalPull/100)),r=field.clientWidth/2+s*i,o=field.clientHeight/2+s*l,this.balls[d].style.transform="translate3d("+r+"px, "+o+"px, 0)","x"===this.balls[d].getAttribute("data-stretch-dir")&&-1*(field.offsetWidth/2-this.balls[d].offsetWidth)<r&&r<field.offsetWidth/2+this.balls[d].offsetWidth||"y"===this.balls[d].getAttribute("data-stretch-dir")&&-1*(field.offsetWidth/2-this.balls[d].offsetWidth)<o&&o<field.offsetWidth/2+this.balls[d].offsetWidth?this.balls[d].style.zIndex="-1":this.balls[d].style.zIndex="9",e>=1&&this.balls[d].setAttribute("data-start",0);window.requestAnimationFrame(this.step.bind(this))}},{key:"setGravitationalPull",value:function(t){var e,i,l=this,a=void 0;if(this.disablePullButtons(),!(t<0||100<t||t===this.gravitationalPull)){20,e=Math.abs(t-this.gravitationalPull)/20,i=t<this.gravitationalPull?"-":"+";for(var s=0;s<20;s++)(a=s*(s/Math.PI))<4&&(a=4),setTimeout(function(){"-"===i?l.gravitationalPull-=e:l.gravitationalPull+=e},a),19===s&&setTimeout(function(){l.gravitationalPull=Math.round(l.gravitationalPull),l.setPullButtons()},a+20)}}},{key:"setPullButtons",value:function(){this.gravitationalPull<=0?(this.decreasePullBtn.disabled=!0,this.increasePullBtn.disabled=!1):100<=this.gravitationalPull?(this.decreasePullBtn.disabled=!1,this.increasePullBtn.disabled=!0):(this.decreasePullBtn.disabled=!1,this.increasePullBtn.disabled=!1),this.gravityText.innerHTML=this.gravitationalPull}},{key:"disablePullButtons",value:function(){this.decreasePullBtn.disabled=!0,this.increasePullBtn.disabled=!0}},{key:"increaseGravitationalPull",value:function(){this.setGravitationalPull(this.gravitationalPull+10)}},{key:"decreaseGravitationalPull",value:function(){this.setGravitationalPull(this.gravitationalPull-10)}},{key:"getCursorXY",value:function(t){var e=window.Event?t.pageX:event.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft),i=window.Event?t.pageY:event.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop);field.style.left=e-field.offsetWidth/2+"px",field.style.top=i-field.offsetHeight/2+"px"}},{key:"getRandomColor",value:function(){var t=["#0ebeff","#0ebeff","#59C9A5","#EDCA04","#BF5700","#00a9b7"];return t[Math.floor(Math.random()*t.length)]}}]),t}();e.default=a}});