<<<<<<< HEAD
tinymce.PluginManager.add("wpautoresize",function(c){var f=c.settings,y=300,p=!1;function _(e){return parseInt(e,10)||0}function w(e){var t,o,n,i,a,s,l,u,r,d,g,m,h=tinymce.DOM;p&&(o=c.getDoc())&&(e=e||{},n=o.body,i=o.documentElement,a=f.autoresize_min_height,!n||e&&"setcontent"===e.type&&e.initial||c.plugins.fullscreen&&c.plugins.fullscreen.isFullscreen()?n&&i&&(n.style.overflowY="auto",i.style.overflowY="auto"):(l=c.dom.getStyle(n,"margin-top",!0),u=c.dom.getStyle(n,"margin-bottom",!0),r=c.dom.getStyle(n,"padding-top",!0),d=c.dom.getStyle(n,"padding-bottom",!0),g=c.dom.getStyle(n,"border-top-width",!0),m=c.dom.getStyle(n,"border-bottom-width",!0),(s=n.offsetHeight+_(l)+_(u)+_(r)+_(d)+_(g)+_(m))&&s<i.offsetHeight&&(s=i.offsetHeight),(isNaN(s)||s<=0)&&(s=tinymce.Env.ie?n.scrollHeight:tinymce.Env.webkit&&0===n.clientHeight?0:n.offsetHeight),s>f.autoresize_min_height&&(a=s),f.autoresize_max_height&&s>f.autoresize_max_height?(a=f.autoresize_max_height,n.style.overflowY="auto",i.style.overflowY="auto"):(n.style.overflowY="hidden",i.style.overflowY="hidden",n.scrollTop=0),a!==y&&(t=a-y,h.setStyle(c.iframeElement,"height",a+"px"),y=a,tinymce.isWebKit&&t<0&&w(e),c.fire("wp-autoresize",{height:a,deltaHeight:"nodechange"===e.type?t:null}))))}function n(e,t,o){setTimeout(function(){w(),e--?n(e,t,o):o&&o()},t)}c.settings.inline||tinymce.Env.iOS||(f.autoresize_min_height=parseInt(c.getParam("autoresize_min_height",c.getElement().offsetHeight),10),f.autoresize_max_height=parseInt(c.getParam("autoresize_max_height",0),10),f.wp_autoresize_on&&(p=!0,c.on("init",function(){c.dom.addClass(c.getBody(),"wp-autoresize")}),c.on("nodechange keyup FullscreenStateChanged",w),c.on("setcontent",function(){n(3,100)}),c.getParam("autoresize_on_init",!0)&&c.on("init",function(){n(10,200,function(){n(5,1e3)})})),c.on("show",function(){y=0}),c.addCommand("wpAutoResize",w),c.addCommand("wpAutoResizeOn",function(){c.dom.hasClass(c.getBody(),"wp-autoresize")||(p=!0,c.dom.addClass(c.getBody(),"wp-autoresize"),c.on("nodechange setcontent keyup FullscreenStateChanged",w),w())}),c.addCommand("wpAutoResizeOff",function(){var e;f.wp_autoresize_on||(p=!1,e=c.getDoc(),c.dom.removeClass(c.getBody(),"wp-autoresize"),c.off("nodechange setcontent keyup FullscreenStateChanged",w),e.body.style.overflowY="auto",e.documentElement.style.overflowY="auto",y=0)}))});
=======
tinymce.PluginManager.add("wpautoresize",function(g){var m=g.settings,h=300,c=!1;function f(e){return parseInt(e,10)||0}function y(e){var t,o,n,i,a,s,l,u,r,d=tinymce.DOM;c&&(r=g.getDoc())&&(e=e||{},t=r.body,o=r.documentElement,n=m.autoresize_min_height,!t||e&&"setcontent"===e.type&&e.initial||g.plugins.fullscreen&&g.plugins.fullscreen.isFullscreen()?t&&o&&(t.style.overflowY="auto",o.style.overflowY="auto"):(i=g.dom.getStyle(t,"margin-top",!0),a=g.dom.getStyle(t,"margin-bottom",!0),s=g.dom.getStyle(t,"padding-top",!0),l=g.dom.getStyle(t,"padding-bottom",!0),u=g.dom.getStyle(t,"border-top-width",!0),r=g.dom.getStyle(t,"border-bottom-width",!0),(r=t.offsetHeight+f(i)+f(a)+f(s)+f(l)+f(u)+f(r))&&r<o.offsetHeight&&(r=o.offsetHeight),(r=isNaN(r)||r<=0?tinymce.Env.ie?t.scrollHeight:tinymce.Env.webkit&&0===t.clientHeight?0:t.offsetHeight:r)>m.autoresize_min_height&&(n=r),m.autoresize_max_height&&r>m.autoresize_max_height?(n=m.autoresize_max_height,t.style.overflowY="auto",o.style.overflowY="auto"):(t.style.overflowY="hidden",o.style.overflowY="hidden",t.scrollTop=0),n!==h&&(t=n-h,d.setStyle(g.iframeElement,"height",n+"px"),h=n,tinymce.isWebKit&&t<0&&y(e),g.fire("wp-autoresize",{height:n,deltaHeight:"nodechange"===e.type?t:null}))))}function n(e,t,o){setTimeout(function(){y(),e--?n(e,t,o):o&&o()},t)}g.settings.inline||tinymce.Env.iOS||(m.autoresize_min_height=parseInt(g.getParam("autoresize_min_height",g.getElement().offsetHeight),10),m.autoresize_max_height=parseInt(g.getParam("autoresize_max_height",0),10),m.wp_autoresize_on&&(c=!0,g.on("init",function(){g.dom.addClass(g.getBody(),"wp-autoresize")}),g.on("nodechange keyup FullscreenStateChanged",y),g.on("setcontent",function(){n(3,100)}),g.getParam("autoresize_on_init",!0)&&g.on("init",function(){n(10,200,function(){n(5,1e3)})})),g.on("show",function(){h=0}),g.addCommand("wpAutoResize",y),g.addCommand("wpAutoResizeOn",function(){g.dom.hasClass(g.getBody(),"wp-autoresize")||(c=!0,g.dom.addClass(g.getBody(),"wp-autoresize"),g.on("nodechange setcontent keyup FullscreenStateChanged",y),y())}),g.addCommand("wpAutoResizeOff",function(){var e;m.wp_autoresize_on||(c=!1,e=g.getDoc(),g.dom.removeClass(g.getBody(),"wp-autoresize"),g.off("nodechange setcontent keyup FullscreenStateChanged",y),e.body.style.overflowY="auto",e.documentElement.style.overflowY="auto",h=0)}))});
>>>>>>> master
